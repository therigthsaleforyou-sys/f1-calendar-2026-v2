<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Grande PrÃ©mio da AustrÃ¡lia â€“ F1 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    /* Ajuste ficha corrida para nÃ£o ficar maior que o hero */
    .race-card {
      max-width: 600px;
      margin: 20px auto;
    }
  </style>
</head>
<body>

<header>
  <nav>
    <a href="../index.html">CalendÃ¡rio</a>
    <a href="../teams.html">Equipas</a>
    <a href="#">Resultados</a>
  </nav>
</header>

<main>

  <!-- HERO -->
  <section id="hero">
    <img id="hero-image" src="../assets/heroes/australia_v2.jpg" alt="Grande PrÃ©mio da AustrÃ¡lia">
    <h2 id="hero-title">Grande PrÃ©mio da AustrÃ¡lia</h2>
    <div id="hero-countdown" class="countdown"></div>
  </section>

  <!-- DETALHES DA CORRIDA -->
  <section id="race-details">
    <div class="race-card">
      <img src="../assets/races/australia.jpg" alt="AustrÃ¡lia">
      <div class="race-header">
        <h3>Grande PrÃ©mio da AustrÃ¡lia â€“ 2026</h3>
        <button class="fav-btn" data-id="australia">ğŸ</button>
      </div>

      <div class="race-results">
        <h4>Resultados 2025</h4>
        <p><strong>Pole:</strong> Max Verstappen â€“ 1:22.500</p>
        <p><strong>PÃ³dio:</strong> 1Âº Lewis Hamilton, 2Âº Charles Leclerc, 3Âº Sergio PÃ©rez</p>
        <p><strong>Volta mais rÃ¡pida:</strong> Lando Norris â€“ 1:25.300</p>
        <p><strong>Meteorologia:</strong> Sol, 28Â°C</p>
      </div>

      <a href="../index.html">â† Voltar ao calendÃ¡rio</a>
    </div>
  </section>

</main>

<footer style="text-align:center;padding:20px;opacity:.6">
  F1 2026
</footer>

<script src="../data/calendar2026-v2.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const heroImage = document.getElementById("hero-image");
  const heroTitle = document.getElementById("hero-title");
  const heroCountdown = document.getElementById("hero-countdown");

  const nextRace = window.calendar2026.find(r => r.id === "australia");

  if (nextRace) {
    heroImage.src = nextRace.heroImage ? nextRace.heroImage : nextRace.cardImage;
    heroTitle.textContent = nextRace.name;

    function startCountdown(dateISO) {
      function update() {
        const now = new Date();
        const target = new Date(dateISO);
        const diff = target - now;

        if (diff <= 0) {
          heroCountdown.textContent = "ğŸ Corrida terminada â€” ver resultados";
          return;
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / (1000 * 60)) % 60);
        const s = Math.floor((diff / 1000) % 60);

        heroCountdown.textContent = `ğŸ ${d}d ${h}h ${m}m ${s}s ğŸ`;
      }

      update();
      setInterval(update, 1000);
    }

    startCountdown(nextRace.sessions.race);
  }

  /* Favoritos funcionalidade */
  const favBtn = document.querySelector(".fav-btn");
  const favorites = JSON.parse(localStorage.getItem("favorites") || "[]");

  if (favorites.includes("australia")) {
    favBtn.classList.add("active");
  }

  favBtn.addEventListener("click", () => {
    if (favorites.includes("australia")) {
      favorites.splice(favorites.indexOf("australia"), 1);
      favBtn.classList.remove("active");
    } else {
      favorites.push("australia");
      favBtn.classList.add("active");
    }
    localStorage.setItem("favorites", JSON.stringify(favorites));
  });
});
</script>

</body>
</html>
