<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Resultados F1 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<!-- HEADER -->
<header class="main-header">
  <nav class="nav">
    <a href="../index.html">Calend√°rio</a>
    <a href="../teams.html">Equipas</a>
    <a href="../f1noticias.html">Not√≠cias</a>
    <a href="resultados.html" class="active">Resultados</a>
  </nav>
</header>

<main>

  <!-- HERO -->
  <section id="hero">
    <img id="hero-image" src="../assets/races/australia.jpg" alt="Grande Pr√©mio Ativo">
    <h2 id="hero-title">Grande Pr√©mio da Austr√°lia</h2>
  </section>

  <!-- CARDS DAS CORRIDAS -->
  <section id="race-results" class="cards-wrapper"></section>

  <!-- BOT√ÉO FLUTUANTE CAMPEONATOS -->
  <div class="race-link-wrapper">
    <a href="campeonatos.html" class="race-link-btn">üèÜ Campeonatos</a>
  </div>

</main>

<footer style="text-align:center;padding:20px;opacity:.6">F1 2026</footer>

<button id="back-to-top">Voltar ao topo</button>

<!-- FICHEIROS JS -->
<script src="js/calendar2026-v2.js"></script>
<script>
const raceResultsContainer = document.getElementById("race-results");

// Fun√ß√£o para formatar tempo restante
function getCountdown(raceDate) {
    const now = new Date();
    const race = new Date(raceDate);
    const diff = race - now;

    if (diff <= 0) return "Corrida j√° aconteceu";

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);
    const seconds = Math.floor((diff / 1000) % 60);

    return `${days}d ${hours}h ${minutes}m ${seconds}s`;
}

// Fun√ß√£o para criar cards
function createRaceCard(race) {
    const card = document.createElement("div");
    card.className = "race-card";

    // Imagem e t√≠tulo
    const header = document.createElement("div");
    header.className = "race-header";
    header.innerHTML = `<h3>${race.name}</h3>
                        <button class="fav-btn">‚òÖ</button>`;
    card.appendChild(header);

    const img = document.createElement("img");
    img.src = `../${race.cardImage}`;
    img.alt = race.name;
    card.appendChild(img);

    // Countdown
    const countdownEl = document.createElement("div");
    countdownEl.className = "countdown";
    countdownEl.textContent = getCountdown(race.sessions.race);
    card.appendChild(countdownEl);

    // Atualizar countdown a cada segundo
    setInterval(() => {
        countdownEl.textContent = getCountdown(race.sessions.race);
    }, 1000);

    // Ficha de corrida expans√≠vel
    const details = document.createElement("div");
    details.className = "race-details hidden";
    details.innerHTML = `
        <p>FP1: ${new Date(race.sessions.fp1).toLocaleString()}</p>
        <p>FP2: ${new Date(race.sessions.fp2).toLocaleString()}</p>
        <p>FP3: ${new Date(race.sessions.fp3).toLocaleString()}</p>
        <p>Qualifying: ${new Date(race.sessions.qualifying).toLocaleString()}</p>
        <p>Race: ${new Date(race.sessions.race).toLocaleString()}</p>
    `;
    card.appendChild(details);

    // Toggle detalhes ao clicar no header
    header.addEventListener("click", () => {
        details.classList.toggle("hidden");
    });

    return card;
}

// Renderizar todos os races
calendar2026.forEach(race => {
    const card = createRaceCard(race);
    raceResultsContainer.appendChild(card);
});
</script>

</body>
</html>
