<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>F1 Notícias 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<header class="main-header">
  <nav class="nav">
    <a href="index.html">Calendário</a>
    <a href="teams.html">Equipas</a>
    <a href="f1noticias.html" class="active">Notícias</a>
  </nav>
</header>

<section id="hero">
  <img id="hero-image" src="assets/heroes/australia_v2.jpg" alt="Hero Corrida">
  <h2 id="hero-title">Grande Prémio da Austrália</h2>
</section>

<section class="cards-wrapper">

  <!-- NOVIDADES -->
  <div class="race-card novidades-card">
    <img class="race-image" src="assets/races/novidades.jpg" alt="Novidades 2026">
    <div class="race-header"><h3>NOVIDADES FORMULA 1 – TEMPORADA 2026</h3></div>
    <div class="race-details hidden">
      <p><strong>Regulamentos 2026</strong></p>
      <p>Carros mais leves, aerodinâmica simplificada e maior foco em eficiência energética.</p>
      <p><strong>Vídeo</strong></p>
      <div style="position:relative;width:100%;padding-top:56.25%;margin-top:12px;border-radius:14px;overflow:hidden;">
        <iframe src="https://www.dailymotion.com/embed/video/x9yluvm"
                style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;"
                allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
      </div>
      <p style="font-size:12px;text-align:right;opacity:.6">* toca 2 vezes no vídeo para pausa ou silêncio</p>
    </div>
  </div>

  <!-- AUSTRÁLIA -->
  <div class="race-card" data-id="australia" data-date="2026-03-08T05:00:00Z">
    <img class="race-image" src="assets/races/australia.jpg" alt="Austrália">
    <div class="race-header"><h3>FORMULA 1 QATAR AIRWAYS AUSTRALIAN GRAND PRIX 2026</h3></div>
    <div class="race-details hidden">
      <p>06 – 08 Março</p>
      <p>Primeira corrida da nova era técnica da Fórmula 1.</p>
    </div>
  </div>

  <!-- CHINA -->
  <div class="race-card" data-id="china" data-date="2026-03-15T07:00:00Z">
    <img class="race-image" src="assets/races/china.jpg" alt="China">
    <div class="race-header"><h3>FORMULA 1 HEINEKEN CHINESE GRAND PRIX 2026</h3></div>
    <div class="race-details hidden">
      <p>13 – 15 Março</p>
      <p>Segunda corrida da temporada.</p>
    </div>
  </div>

</section>

<footer style="text-align:center;padding:20px;opacity:.6">F1 2026</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* DROPDOWNS CARDS */
  document.querySelectorAll(".race-card").forEach(card => {
    const img = card.querySelector(".race-image");
    const details = card.querySelector(".race-details");
    if (!img || !details) return;
    img.style.cursor = "pointer";
    img.addEventListener("click", () => {
      const open = !details.classList.contains("hidden");
      details.classList.toggle("hidden", open);
      details.style.maxHeight = open ? "0" : details.scrollHeight + "px";
    });
    if (details.classList.contains("hidden")) details.style.maxHeight = "0";
  });

  /* HERO DINÂMICO */
  const races = [
    { id: "australia", title: "Grande Prémio da Austrália", hero: "assets/heroes/australia_v2.jpg", date: "2026-03-08T05:00:00Z" },
    { id: "china", title: "Grande Prémio da China", hero: "assets/heroes/china_v2.jpg", date: "2026-03-15T07:00:00Z" }
  ];

  let activeRace = races[0];
  const now = new Date();
  races.forEach(r => { if (now >= new Date(r.date)) activeRace = r; });

  const heroImage = document.getElementById("hero-image");
  const heroTitle = document.getElementById("hero-title");
  heroImage.src = activeRace.hero;
  heroTitle.textContent = activeRace.title;

  /* HERO CLICK -> ABRIR CARD ATIVO */
  heroImage.style.cursor = "pointer";
  heroImage.addEventListener("click", () => {
    const card = document.querySelector(`.race-card[data-id="${activeRace.id}"]`);
    if (card) {
      card.scrollIntoView({ behavior: "smooth", block: "start" });
      const details = card.querySelector(".race-details");
      if (details && details.classList.contains("hidden")) {
        details.classList.remove("hidden");
        details.style.maxHeight = details.scrollHeight + "px";
      }
    }
  });

});
</script>

</body>
</html>
